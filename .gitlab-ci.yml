stages:
  - build

services:
  - mongo

build-job:
  stage: build
  image: node:latest
  variables:
    projectDirectory: 'quizcraft'

  script:
    - npm -v #debug purposes
    - npm i
    - cd "${projectDirectory}/server" && npm i && npm start
    - cd "../../"
    - cd "${projectDirectory}/client" && npm i && npm run build
    - cd "../../"


  artifacts:
    paths:
      - "${projectDirectory}/client/dist/"

