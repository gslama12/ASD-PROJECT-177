stages:
  - build
  - lint

image: node:latest

variables:
  projectDirectory: quizcraft 

cache:
  paths:
    - ${projectDirectory}/client/node_modules/

build-job:
  stage: build
  script:
    - npm -v #debug purposes
    - cd "${projectDirectory}/server" && npm i && npm start
    - cd "../../"
    - pwd
    - cd "${projectDirectory}/client" && npm i && npm run build
    - cd "../../"
  artifacts:
    paths:
      - "${projectDirectory}/client/dist/"


eslint:
  stage: lint
  script:
    - cd "${projectDirectory}/client" && npm run lint
